{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/mikevocalz/pruapp/components/HeroComp.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport PropTypes from \"prop-types\";\nimport Injector from \"react-native-injectable-component\";\nexport var _createPositionStyle = function _createPositionStyle() {\n  var zIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return {\n    top: 0,\n    left: 0,\n    zIndex: zIndex,\n    position: \"absolute\"\n  };\n};\n\nvar updateWidthState = function updateWidthState(component, window) {\n  if (!component) return;\n  component.setState({\n    width: window.width\n  });\n};\n\nvar Hero = function (_Component) {\n  _inherits(Hero, _Component);\n\n  var _super = _createSuper(Hero);\n\n  function Hero(props) {\n    var _this;\n\n    _classCallCheck(this, Hero);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      source: _this.props.source,\n      opacity: 0,\n      height: _this.props.minHeight || undefined,\n      resizeMode: _this.props.resizeMode || \"cover\"\n    };\n    return _this;\n  }\n\n  _createClass(Hero, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.source !== this.props.source) {\n        this.setState({\n          source: nextProps.source\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        opacity: 1\n      });\n    }\n  }, {\n    key: \"renderColorOverlay\",\n    value: function renderColorOverlay() {\n      var _jsx;\n\n      var overlayStyles = [{\n        height: this.state.height,\n        width: \"100%\",\n        backgroundColor: this.props.colorOverlay || \"transparent\",\n        opacity: this.props.colorOpacity || 0.3\n      }, _createPositionStyle(1)];\n      return this.props.colorOverlay ? __jsx(View, (_jsx = {\n        style: overlayStyles,\n        __self: this\n      }, _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 38\n      }), _jsx)) : null;\n    }\n  }, {\n    key: \"renderHeroOverlay\",\n    value: function renderHeroOverlay() {\n      var _this2 = this,\n          _jsx2;\n\n      var self = this;\n      var transparentBg = {\n        backgroundColor: \"transparent\"\n      };\n      var contentStyles = [transparentBg, _createPositionStyle(2)];\n\n      var updateViewHeight = function updateViewHeight(event) {\n        var overlayHeight = event.nativeEvent.layout.height;\n        var overlayWidth = event.nativeEvent.layout.width;\n        if (self.props.minHeight) return;\n\n        if (overlayHeight !== self.state.height) {\n          self.setState({\n            height: overlayHeight\n          });\n        }\n\n        if (_this2.props.fullWidth === true && !self.state.width) {\n          updateWidthState(self, Dimensions.get(\"window\"));\n          Dimensions.addEventListener(\"change\", function (window) {\n            return updateWidthState(self, window);\n          });\n        }\n      };\n\n      return __jsx(View, (_jsx2 = {\n        onLayout: function onLayout(event) {\n          return updateViewHeight(event);\n        },\n        style: contentStyles,\n        __self: this\n      }, _defineProperty(_jsx2, \"__self\", this), _defineProperty(_jsx2, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 7\n      }), _jsx2), this.props.renderOverlay());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _jsx3, _jsx4;\n\n      var imageProps = {\n        source: this.state.source,\n        resizeMode: this.state.resizeMode,\n        style: {\n          height: this.state.height,\n          width: this.state.width || \"100%\"\n        }\n      };\n      return __jsx(View, (_jsx4 = {\n        style: {\n          opacity: this.state.opacity,\n          position: \"relative\"\n        },\n        __self: this\n      }, _defineProperty(_jsx4, \"__self\", this), _defineProperty(_jsx4, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 7\n      }), _jsx4), this.renderColorOverlay(), this.renderHeroOverlay(), __jsx(Injector, (_jsx3 = {\n        defaultComponent: Image,\n        defaultProps: imageProps,\n        injectant: this.props.customImageComponent,\n        injectantProps: this.props.customImageProps,\n        __self: this\n      }, _defineProperty(_jsx3, \"__self\", this), _defineProperty(_jsx3, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }), _jsx3)));\n    }\n  }]);\n\n  return Hero;\n}(Component);\n\n_defineProperty(Hero, \"propTypes\", {\n  renderOverlay: PropTypes.func,\n  resizeMode: PropTypes.string,\n  colorOpacity: PropTypes.number,\n  minHeight: PropTypes.number,\n  fullWidth: PropTypes.bool,\n  customImageComponent: PropTypes.func,\n  customImageProps: PropTypes.object\n});\n\n_defineProperty(Hero, \"defaultProps\", {\n  fullWidth: true\n});\n\nexport { Hero as default };","map":{"version":3,"sources":["/Users/mikevocalz/pruapp/components/HeroComp.tsx"],"names":["React","Component","PropTypes","Injector","_createPositionStyle","zIndex","top","left","position","updateWidthState","component","window","setState","width","Hero","props","state","source","opacity","height","minHeight","undefined","resizeMode","nextProps","overlayStyles","backgroundColor","colorOverlay","colorOpacity","self","transparentBg","contentStyles","updateViewHeight","event","overlayHeight","nativeEvent","layout","overlayWidth","fullWidth","Dimensions","get","addEventListener","renderOverlay","imageProps","style","renderColorOverlay","renderHeroOverlay","Image","customImageComponent","customImageProps","func","string","number","bool","object"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Image, StyleSheet, View, Dimensions, Text } from \"react-native\";\nimport PropTypes from \"prop-types\";\n\nimport Injector from \"react-native-injectable-component\";\n\n// _createPositionStyle :: Number -> Object\nexport const _createPositionStyle = (zIndex = 1) => ({\n  top: 0,\n  left: 0,\n  zIndex,\n  position: \"absolute\",\n});\n\n// updateWidthState :: Component, Window -> _\nconst updateWidthState = (component, window) => {\n  if (!component) return;\n\n  component.setState({\n    width: window.width,\n  });\n};\n\nexport default class Hero extends Component {\n  static propTypes = {\n    renderOverlay: PropTypes.func,\n    resizeMode: PropTypes.string,\n    colorOpacity: PropTypes.number,\n    minHeight: PropTypes.number,\n    fullWidth: PropTypes.bool,\n    customImageComponent: PropTypes.func,\n    customImageProps: PropTypes.object,\n  };\n\n  static defaultProps = {\n    fullWidth: true,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      source: this.props.source,\n      opacity: 0,\n      height: this.props.minHeight || undefined,\n      resizeMode: this.props.resizeMode || \"cover\",\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.source !== this.props.source) {\n      this.setState({\n        source: nextProps.source,\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.setState({\n      opacity: 1,\n    });\n  }\n\n  renderColorOverlay() {\n    let overlayStyles = [\n      {\n        height: this.state.height,\n        width: \"100%\",\n        backgroundColor: this.props.colorOverlay || \"transparent\",\n        opacity: this.props.colorOpacity || 0.3,\n      },\n      _createPositionStyle(1),\n    ];\n\n    return this.props.colorOverlay ? <View style={overlayStyles}></View> : null;\n  }\n\n  renderHeroOverlay() {\n    const self = this;\n    const transparentBg = { backgroundColor: \"transparent\" };\n    const contentStyles = [transparentBg, _createPositionStyle(2)];\n\n    const updateViewHeight = (event) => {\n      const overlayHeight = event.nativeEvent.layout.height;\n      const overlayWidth = event.nativeEvent.layout.width;\n\n      if (self.props.minHeight) return;\n      if (overlayHeight !== self.state.height) {\n        self.setState({\n          height: overlayHeight,\n        });\n      }\n\n      // Initial width state set\n      if (this.props.fullWidth === true && !self.state.width) {\n        updateWidthState(self, Dimensions.get(\"window\"));\n        Dimensions.addEventListener(\"change\", (window) =>\n          updateWidthState(self, window)\n        );\n      }\n    };\n\n    return (\n      <View onLayout={(event) => updateViewHeight(event)} style={contentStyles}>\n        {this.props.renderOverlay()}\n      </View>\n    );\n  }\n\n  render() {\n    const imageProps = {\n      source: this.state.source,\n      resizeMode: this.state.resizeMode,\n      style: {\n        height: this.state.height,\n        width: this.state.width || \"100%\",\n      },\n    };\n\n    return (\n      <View style={{ opacity: this.state.opacity, position: \"relative\" }}>\n        {this.renderColorOverlay()}\n        {this.renderHeroOverlay()}\n        <Injector\n          defaultComponent={Image}\n          defaultProps={imageProps}\n          injectant={this.props.customImageComponent}\n          injectantProps={this.props.customImageProps}\n        ></Injector>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}