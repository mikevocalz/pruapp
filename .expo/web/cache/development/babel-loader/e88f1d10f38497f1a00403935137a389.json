{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/mikevocalz/pruapp/node_modules/react-native-hero/components/Hero.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport PropTypes from 'prop-types';\nimport Injector from 'react-native-injectable-component';\nexport var _createPositionStyle = function _createPositionStyle() {\n  var zIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  return {\n    top: 0,\n    left: 0,\n    zIndex: zIndex,\n    position: 'absolute'\n  };\n};\n\nvar updateWidthState = function updateWidthState(component, window) {\n  if (!component) return;\n  component.setState({\n    width: window.width\n  });\n};\n\nvar Hero = function (_Component) {\n  _inherits(Hero, _Component);\n\n  var _super = _createSuper(Hero);\n\n  function Hero(props) {\n    var _this;\n\n    _classCallCheck(this, Hero);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      source: _this.props.source,\n      opacity: 0,\n      height: _this.props.minHeight || undefined,\n      resizeMode: _this.props.resizeMode || 'cover'\n    };\n    return _this;\n  }\n\n  _createClass(Hero, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.source !== this.props.source) {\n        this.setState({\n          source: nextProps.source\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setState({\n        opacity: 1\n      });\n    }\n  }, {\n    key: \"renderColorOverlay\",\n    value: function renderColorOverlay() {\n      var _jsx;\n\n      var overlayStyles = [{\n        height: this.state.height,\n        width: '100%',\n        backgroundColor: this.props.colorOverlay || 'transparent',\n        opacity: this.props.colorOpacity || .30\n      }, _createPositionStyle(1)];\n      return this.props.colorOverlay ? __jsx(View, (_jsx = {\n        style: overlayStyles,\n        __self: this\n      }, _defineProperty(_jsx, \"__self\", this), _defineProperty(_jsx, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 4\n      }), _jsx)) : null;\n    }\n  }, {\n    key: \"renderHeroOverlay\",\n    value: function renderHeroOverlay() {\n      var _this2 = this,\n          _jsx2;\n\n      var self = this;\n      var transparentBg = {\n        backgroundColor: 'transparent'\n      };\n      var contentStyles = [transparentBg, _createPositionStyle(2)];\n\n      var updateViewHeight = function updateViewHeight(event) {\n        var overlayHeight = event.nativeEvent.layout.height;\n        var overlayWidth = event.nativeEvent.layout.width;\n        if (self.props.minHeight) return;\n\n        if (overlayHeight !== self.state.height) {\n          self.setState({\n            height: overlayHeight\n          });\n        }\n\n        if (_this2.props.fullWidth === true && !self.state.width) {\n          updateWidthState(self, Dimensions.get('window'));\n          Dimensions.addEventListener('change', function (window) {\n            return updateWidthState(self, window);\n          });\n        }\n      };\n\n      return __jsx(View, (_jsx2 = {\n        onLayout: function onLayout(event) {\n          return updateViewHeight(event);\n        },\n        style: contentStyles,\n        __self: this\n      }, _defineProperty(_jsx2, \"__self\", this), _defineProperty(_jsx2, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 4\n      }), _jsx2), this.props.renderOverlay());\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _jsx3, _jsx4;\n\n      var imageProps = {\n        source: this.state.source,\n        resizeMode: this.state.resizeMode,\n        style: {\n          height: this.state.height,\n          width: this.state.width || '100%'\n        }\n      };\n      return __jsx(View, (_jsx4 = {\n        style: {\n          opacity: this.state.opacity,\n          position: 'relative'\n        },\n        __self: this\n      }, _defineProperty(_jsx4, \"__self\", this), _defineProperty(_jsx4, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 4\n      }), _jsx4), this.renderColorOverlay(), this.renderHeroOverlay(), __jsx(Injector, (_jsx3 = {\n        defaultComponent: Image,\n        defaultProps: imageProps,\n        injectant: this.props.customImageComponent,\n        injectantProps: this.props.customImageProps,\n        __self: this\n      }, _defineProperty(_jsx3, \"__self\", this), _defineProperty(_jsx3, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 6\n      }), _jsx3)));\n    }\n  }]);\n\n  return Hero;\n}(Component);\n\n_defineProperty(Hero, \"propTypes\", {\n  renderOverlay: PropTypes.func,\n  resizeMode: PropTypes.string,\n  colorOpacity: PropTypes.number,\n  minHeight: PropTypes.number,\n  fullWidth: PropTypes.bool,\n  customImageComponent: PropTypes.func,\n  customImageProps: PropTypes.object\n});\n\n_defineProperty(Hero, \"defaultProps\", {\n  fullWidth: true\n});\n\nexport { Hero as default };","map":{"version":3,"sources":["/Users/mikevocalz/pruapp/node_modules/react-native-hero/components/Hero.js"],"names":["React","Component","PropTypes","Injector","_createPositionStyle","zIndex","top","left","position","updateWidthState","component","window","setState","width","Hero","props","state","source","opacity","height","minHeight","undefined","resizeMode","nextProps","overlayStyles","backgroundColor","colorOverlay","colorOpacity","self","transparentBg","contentStyles","updateViewHeight","event","overlayHeight","nativeEvent","layout","overlayWidth","fullWidth","Dimensions","get","addEventListener","renderOverlay","imageProps","style","renderColorOverlay","renderHeroOverlay","Image","customImageComponent","customImageProps","func","string","number","bool","object"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Image, StyleSheet, View, Dimensions, Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport Injector from 'react-native-injectable-component';\n\n// _createPositionStyle :: Number -> Object\nexport const _createPositionStyle = (zIndex = 1) => ({\n\ttop: 0,\n\tleft: 0,\n\tzIndex,\n\tposition: 'absolute'\n});\n\n// updateWidthState :: Component, Window -> _\nconst updateWidthState = (component, window) => {\n\tif (!component) return;\n\n\tcomponent.setState({\n\t\twidth: window.width\n\t});\n}\n\nexport default class Hero extends Component {\n\tstatic propTypes = {\n\t\trenderOverlay: PropTypes.func,\n\t\tresizeMode: PropTypes.string,\n\t\tcolorOpacity: PropTypes.number,\n\t\tminHeight: PropTypes.number,\n\t\tfullWidth: PropTypes.bool,\n\t\tcustomImageComponent: PropTypes.func,\n\t\tcustomImageProps: PropTypes.object\n\t};\n\n\tstatic defaultProps = {\n\t\tfullWidth: true\n\t}\n\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tsource: this.props.source,\n\t\t\topacity: 0,\n\t\t\theight: this.props.minHeight || undefined,\n\t\t\tresizeMode: this.props.resizeMode || 'cover'\n\t\t};\n\t};\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.source !== this.props.source) {\n\t\t\tthis.setState({\n\t\t\t\tsource: nextProps.source\n\t\t\t});\n\t\t}\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.setState({\n\t\t\topacity: 1\n\t\t});\n\t};\n\n\trenderColorOverlay() {\n\t\tlet overlayStyles = [\n\t\t\t{\n\t\t\t\theight: this.state.height,\n\t\t\t\twidth: '100%',\n\t\t\t\tbackgroundColor: this.props.colorOverlay || 'transparent',\n\t\t\t\topacity: this.props.colorOpacity || .30\n\t\t\t},\n\t\t\t_createPositionStyle(1)\n\t\t];\n\n\t\treturn (this.props.colorOverlay) ?\n\t\t\t<View style={overlayStyles}></View> :\n\t\tnull;\n\t};\n\n\trenderHeroOverlay() {\n\t\tconst self = this;\n\t\tconst transparentBg = { backgroundColor: 'transparent' };\n\t\tconst contentStyles = [transparentBg, _createPositionStyle(2)];\n\n\t\tconst updateViewHeight = (event) => {\n\t\t\tconst overlayHeight = event.nativeEvent.layout.height;\n\t\t\tconst overlayWidth = event.nativeEvent.layout.width;\n\n\t\t\tif (self.props.minHeight) return;\n\t\t\tif (overlayHeight !== self.state.height) {\n\t\t\t\tself.setState({\n\t\t\t\t\theight: overlayHeight\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Initial width state set\n\t\t\tif ((this.props.fullWidth === true) && (!self.state.width)) {\n\t\t\t\tupdateWidthState(self, Dimensions.get('window'));\n\t\t\t\tDimensions.addEventListener('change', (window) => updateWidthState(self, window));\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<View\n\t\t\t  onLayout={(event) => updateViewHeight(event)}\n\t\t\t  style={contentStyles}>\n\t\t\t  {this.props.renderOverlay()}\n\t\t\t</View>\n\t\t);\n\t};\n\n    render() {\n\t\tconst imageProps = {\n\t\t\tsource: this.state.source,\n\t\t\tresizeMode: this.state.resizeMode,\n\t\t\tstyle: {\n\t\t\t\theight: this.state.height,\n\t\t\t\twidth: (this.state.width || '100%')\n\t\t\t}\n\t\t};\n\n\t\treturn (\n\t\t\t<View style={{opacity: this.state.opacity, position: 'relative'}}>\n\t\t\t  {this.renderColorOverlay()}\n  \t\t\t  {this.renderHeroOverlay()}\n\t\t\t  <Injector\n\t\t\t\tdefaultComponent={Image}\n\t\t\t\tdefaultProps={imageProps}\n\t\t\t\tinjectant={this.props.customImageComponent}\n\t\t\t\tinjectantProps={this.props.customImageProps}>\n\t\t\t  </Injector>\n\t\t\t</View>\n\t\t);\n\t};\n}\n"]},"metadata":{},"sourceType":"module"}